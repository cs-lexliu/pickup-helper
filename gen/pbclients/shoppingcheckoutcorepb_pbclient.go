// Code generated by pbclient-gen. DO NOT EDIT.
// versions: v0.0.0
// source: gen/pb/shopping-checkout-core/shopping-checkout-core_grpc.pb.go

package pbclients

import (
	"fmt"

	"google.golang.org/grpc"

	"github.com/cs-lexliu/pickup-helper/gen/pb/shopping-checkout-core"
)

// CloseableShoppingCheckoutCoreServiceClient is a closable client for interacting with ShoppingCheckoutCoreService service.
type CloseableShoppingCheckoutCoreServiceClient interface {
	shoppingcheckoutcorepb.ShoppingCheckoutCoreServiceClient
	Close()
}

// closeableShoppingCheckoutCoreServiceClient is a closable client for interacting with ShoppingCheckoutCoreService service.
type closeableShoppingCheckoutCoreServiceClient struct {
	shoppingcheckoutcorepb.ShoppingCheckoutCoreServiceClient
	conn *grpc.ClientConn
}

func (c *closeableShoppingCheckoutCoreServiceClient) Close() {
	if c == nil || c.conn == nil {
		return
	}
	c.conn.Close()
}

func NewcloseableShoppingCheckoutCoreServiceClient(config Config) (*closeableShoppingCheckoutCoreServiceClient, error) {
	conn, err := GetGrpcClientConn(config)
	if err != nil {
		return nil, fmt.Errorf("init grpc conn: %w", err)
	}

	return &closeableShoppingCheckoutCoreServiceClient{
		ShoppingCheckoutCoreServiceClient: shoppingcheckoutcorepb.NewShoppingCheckoutCoreServiceClient(conn),
		conn:                              conn,
	}, nil
}
